

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <title>Javascript, C#, Java Android App - js.findingsteve.net</title>

    <!-- Google font -->
    <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:700%7CNunito:300,600" rel="stylesheet">

    <!-- Bootstrap -->
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Font Awesome Icon -->
    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">


    <!-- Custom stlylesheet -->
    <link type="text/css" rel="stylesheet" href="css/style.css" />
    <link type="text/css" rel="stylesheet" href="css/style2.css" />

    <!-- jQuery Plugins -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <script src="js/bootstrap.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <script src="js/main.js"></script>

    <script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-1858816121145627",
            enable_page_level_ads: true
        });
    </script>
</head>
<body>

    <!-- Header -->
    <header id="header">
        <!-- Nav -->
        <div id="nav">
            <!-- Main Nav -->
            <div id="nav-fixed">
                <div class="container">
                    <!-- logo -->
                    <div class="nav-logo">
                        <a href="index.html" class="logo">js.findingsteve.net</a>
                        <img src="img/stevelogo.png" style="width:50px" />
                    </div>
                    <!-- /logo -->
                    <nav>
                        <ul class="nav-menu nav navbar-nav">
                            <li class="cat-1"><a href="Snippet.html">JS Snippets</a></li>
                            <li class="cat-5"><a href="SnippetCSharp.html">C# Snippets</a></li>							
                            <li class="cat-2"><a href="Videos.html">Videos</a></li>
                            <li class="cat-4"><a href="Photo.html">Photo</a></li>
                            <li class="cat-3"><a href="Contact.html">Contact</a></li>
                        </ul>
                    </nav>

                    <!-- search & aside toggle -->
                    <div class="nav-btns">
                        <button class="aside-btn"><i class="fa fa-bars"></i></button>
                    </div>
                    <!-- /search & aside toggle -->
                </div>
            </div>
            <!-- /Main Nav -->
            <!-- Aside Nav -->
            <div id="nav-aside">
                <!-- nav -->
                <div class="section-row">
                    <ul class="nav-aside-menu">
                        <li><a href="Snippet.html">JS Snippets</a></li>
                        <li><a href="SnippetCSharp.html">C# Snippets</a></li>						
                        <li><a href="Videos.html">Videos</a></li>
                        <li><a href="Photo.html">Photo</a></li>
                        <li><a href="Contact.html">Contact</a></li>
                    </ul>
                </div>
                <!-- /nav -->
                <!-- aside nav close -->
                <button class="nav-aside-close"><i class="fa fa-times"></i></button>
                <!-- /aside nav close -->
            </div>
            <!-- Aside Nav -->
        </div>
        <!-- /Nav -->
    </header>
    <!-- /Header -->
    <!-- section -->
    <div class="section">
        <!-- container -->
        <div class="container">
            <!-- row -->
            <div class="row" style="padding:10px">

                
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<style>
    #cardContainer {
        display: flex;
        flex-wrap: wrap;
    }

    .card {
        display: inline-block;
        text-align: center;
        margin: 5px;
        padding: 10px;
        width: 70px;
        height: 100px;
        font-size: 16px;
        background-color: black;
        border: solid 1px black;
        color: white;
        border-radius: 10px;
    }

    .red {
        background-color: red;
        border: solid 1px #8C001A;
    }

    .template {
        display: none;
    }

</style>
<h1>Draw two cards</h1>

<div class="pink">
    <button class="mybutton" id="drawTwoCards">Draw two cards from the deck</button>
    <button class="mybutton" id="drawOneCard">Draw a card from the deck</button>
</div>

<fieldset>
    <legend>Actual Output</legend>

    Remaining cards in the deck: <span id="cardsBalance"></span><br />

    <div id="cardContainer">
        <div class="card template">
            <span class="rank">10</span>
            <span class="suit">Hearts</span>
        </div>
    </div>    
</fieldset>

<fieldset>
    <legend>Coding Techniques Used</legend>
    <ul>
        <li>Some Javascript built-in function used: splice()</li>
        <li>Some JQuery built-in function used: clone(), append()</li>
        <li>Javascript Object used: Math Object</li>
        <li>CSS: UTF-8 Miscellaneous Symbols to create ♠,♣,♥,♦ instead of images</li>
        <li>More comment in the code</li>
    </ul>
</fieldset>

<script>
    // tofix:reset function. after reset, card balance count is back to 52 but when click draw two card again, it resume to 44.
    // and many repeat code.

    // global variables.
    var suits = ["hearts", "diams", "clubs", "spades"];
    var ranks = [2, 3, 4, 5, 6, 7, 8, 9, 10, "J", "Q", "K", "A"];
    var deck = [];
    var cardBal = 52;

    $('#cardsBalance').text(cardBal);

    $(init);

    function init() {
        debugger;

        makeDeck();
    }

    $("#drawTwoCards").click(function () {
        debugger;
        for (y = 0; y < 2; y++) {
            var myCard = drawCard();

            if (myCard) {
                makeCard(myCard.suit, myCard.rank);

                // replace J, Q, K as 10
                var faceCards = ["J", "Q", "K"];
                for (x = 0; x < faceCards.length; x++) {
                    debugger;
                    if (myCard.rank === faceCards[x]) {
                        myCard.rank = 10;
                    }
                }

                if (myCard.rank === "A") {
                    //myCard.rank = 11 or 1
                }
            }
        }
        debugger;

        $('#cardsBalance').text(cardBal);

    });

    $("#drawOneCard").click(function () {
        debugger;
        var myCard = drawCard();

        if (myCard) {
            makeCard(myCard.suit, myCard.rank);

            // replace J, Q, K as 10
            var faceCards = ["J", "Q", "K"];
            for (x = 0; x < faceCards.length; x++) {
                if (myCard.rank === faceCards[x]) {
                    myCard.rank = 10;
                }
            }

            if (myCard.rank === "A") {
                //myCard.rank = 11 or 1
            }

            debugger;

            $('#cardsBalance').text(cardBal);
        }

    });

    function makeDeck() {
        deck = [];

        // for loop (faster)
        //for each type of suit
        //for (var i = 0; i < suits.length; i++) {
        //    //and for each rank
        //    for (var j = 0; j < ranks.length; j++) {

        //        //make a card
        //        var card = {};
        //        card.suit = suits[i];
        //        card.rank = ranks[j];

        //        deck.push(card);
        //    }
        //}

        // forEach loop (slower but concise and newer)
        //for each type of suit
        suits.forEach(function (suit) {
            //and for each rank
            ranks.forEach(function (rank) {
                var card = {};
                card.suit = suit;
                card.rank = rank;

                deck.push(card);
            });
        });
    }

    function drawCard() {
        debugger;
        var card;

        if (deck.length > 0) {
            // extract the random card index.
            var randIndex = Math.floor(Math.random() * deck.length);

            // this below can be used but it won't reduce the element from the array,
            // thus unable to check the length to stop the drawing-card step (deck.length > 0)
            // card = deck[randIndex];

            // Use splice to fix this issue because splice reduce the element from the array.
            // splice to extract a card.
            // array.splice(elementIndex, 0);
            // array.splice(index, howmany)
            card = deck.splice(randIndex, 1)[0];

            // reduce the card balance count.
            cardBal = cardBal - 1;
        }

        return card;
    }

    function makeCard(suit, rank) {
        var card = $(".card.template").clone();

        card.removeClass("template");

        card.find(".rank").html(rank);

        // &spades; -> ♠
        // &clubs; -> ♣
        // &hearts; -> ♥
        // &diams; -> ♦
        card.find(".suit").html("&" + suit + ";");
        // more char, https://www.w3schools.com/charsets/ref_utf_symbols.asp

        // hearts and diamonds are red color. otherwise, default black color.
        if (suit === "hearts" || suit === "diams") {
            card.addClass("red");
        }

        // option: replace previous card with new card (show one card all the time)
        $("#cardContainer").append(card);
    }


</script>
            </div>

        </div>
    </div>
    <!-- /section -->
    <!-- Footer -->
    <footer id="footer"></footer>
    <!-- /Footer -->


</body>
</html>
